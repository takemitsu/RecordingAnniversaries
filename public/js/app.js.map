{"version":3,"sources":["app.coffee"],"names":[],"mappings":"AACA;AAAA,MAAA,yFAAA;;AAAA,EAAA,OAAA,GAAU,OAAO,CAAC,MAAR,CAAe,SAAf,EAA0B,CAClC,SADkC,EAIlC,iBAJkC,EAKlC,cALkC,CAA1B,CAAV,CAAA;;AAAA,EAWA,OAAO,CAAC,MAAR,CAAe;IAAC,gBAAD,EAAmB,SAAC,cAAD,GAAA;aAC9B,cACA,CAAC,IADD,CACM,QADN,EAEE;AAAA,QAAA,WAAA,EAAa,4BAAb;AAAA,QACA,UAAA,EAAY,sBADZ;OAFF,CAIA,CAAC,IAJD,CAIM,OAJN,EAKE;AAAA,QAAA,WAAA,EAAa,2BAAb;AAAA,QACA,UAAA,EAAY,qBADZ;OALF,CAeA,CAAC,SAfD,CAgBE;AAAA,QAAA,UAAA,EAAY,QAAZ;OAhBF,EAD8B;IAAA,CAAnB;GAAf,CAXA,CAAA;;AAAA,EAgCA,eAAA,GAAkB,OAAO,CAAC,MAAR,CAAe,iBAAf,EAAkC,EAAlC,CAhClB,CAAA;;AAAA,EAmCA,eAAe,CAAC,MAAhB,CAAuB,OAAvB,EAAgC,SAAA,GAAA;AAC9B,WAAO,SAAC,KAAD,EAAQ,WAAR,GAAA;AAEL,UAAA,0BAAA;AAAA,MAAA,IAAG,CAAA,KAAH;AACI,eAAO,EAAP,CADJ;OAAA;AAGA,MAAA,IAAG,KAAK,CAAC,MAAN,KAAkB,EAArB;AACI,eAAO,EAAP,CADJ;OAHA;AAAA,MAMA,KAAA,GAAQ,KAAK,CAAC,KAAN,CAAY,GAAZ,CANR,CAAA;AAOA,MAAA,IAAG,KAAK,CAAC,MAAN,KAAkB,CAArB;AACI,eAAO,EAAP,CADJ;OAPA;AAAA,MAUA,IAAA,GAAO,QAAA,CAAS,KAAK,CAAC,IAAN,CAAW,EAAX,CAAT,CAVP,CAAA;AAWA,MAAA,IAAG,CAAA,IAAH;AACI,eAAO,EAAP,CADJ;OAXA;AAcA,MAAA,IAAG,KAAM,CAAA,CAAA,CAAN,GAAW,IAAd;AACI,eAAO,EAAP,CADJ;OAdA;AAgBA,MAAA,IAAG,KAAM,CAAA,CAAA,CAAN,GAAW,EAAX,IAAiB,KAAM,CAAA,CAAA,CAAN,KAAY,IAAhC;AACI,eAAO,EAAP,CADJ;OAhBA;AAkBA,MAAA,IAAG,KAAM,CAAA,CAAA,CAAN,GAAW,EAAX,IAAiB,KAAM,CAAA,CAAA,CAAN,KAAY,IAAhC;AACI,cAAA,CADJ;OAlBA;AAqBA,MAAA,IAAG,IAAA,IAAQ,QAAX;AACI,QAAA,KAAA,GAAQ,IAAR,CAAA;AAAA,QACA,MAAA,GAAS,KAAM,CAAA,CAAA,CAAN,GAAW,IADpB,CADJ;OAAA,MAGK,IAAG,IAAA,IAAQ,QAAX;AACD,QAAA,KAAA,GAAQ,IAAR,CAAA;AAAA,QACA,MAAA,GAAS,KAAM,CAAA,CAAA,CAAN,GAAW,IADpB,CADC;OAAA,MAGA,IAAG,IAAA,IAAQ,QAAX;AACD,QAAA,KAAA,GAAQ,IAAR,CAAA;AAAA,QACA,MAAA,GAAS,KAAM,CAAA,CAAA,CAAN,GAAW,IADpB,CADC;OAAA,MAGA,IAAG,IAAA,IAAQ,QAAX;AACD,QAAA,KAAA,GAAQ,IAAR,CAAA;AAAA,QACA,MAAA,GAAS,KAAM,CAAA,CAAA,CAAN,GAAW,IADpB,CADC;OAAA,MAAA;AAID,eAAO,EAAP,CAJC;OA9BL;AAoCA,MAAA,IAAG,MAAA,KAAU,CAAb;AACI,QAAA,MAAA,GAAS,GAAT,CADJ;OApCA;AAuCA,MAAA,IAAG,WAAA,KAAe,CAAlB;AACI,eAAO,KAAA,GAAQ,MAAR,GAAiB,GAAxB,CADJ;OAvCA;AA0CA,aAAO,KAAA,GAAQ,MAAR,GAAiB,GAAjB,GAAuB,KAAM,CAAA,CAAA,CAA7B,GAAkC,GAAlC,GAAwC,KAAM,CAAA,CAAA,CAA9C,GAAmD,GAA1D,CA5CK;IAAA,CAAP,CAD8B;EAAA,CAAhC,CAnCA,CAAA;;AAAA,EAmFA,eAAe,CAAC,MAAhB,CAAuB,UAAvB,EAAmC,SAAA,GAAA;AACjC,WAAO,SAAC,KAAD,GAAA;AAIL,UAAA,0CAAA;AAAA,MAAA,IAAG,CAAA,KAAH;AACI,eAAO,EAAP,CADJ;OAAA;AAGA,MAAA,IAAG,KAAK,CAAC,MAAN,KAAkB,EAArB;AACI,eAAO,EAAP,CADJ;OAHA;AAAA,MAMA,KAAA,GAAQ,KAAK,CAAC,KAAN,CAAY,GAAZ,CANR,CAAA;AAOA,MAAA,IAAG,KAAK,CAAC,MAAN,KAAkB,CAArB;AACI,eAAO,EAAP,CADJ;OAPA;AAAA,MAUA,IAAA,GAAO,QAAA,CAAS,KAAK,CAAC,IAAN,CAAW,EAAX,CAAT,CAVP,CAAA;AAWA,MAAA,IAAG,CAAA,IAAH;AACI,eAAO,EAAP,CADJ;OAXA;AAcA,MAAA,IAAG,KAAM,CAAA,CAAA,CAAN,GAAW,IAAd;AACI,eAAO,EAAP,CADJ;OAdA;AAgBA,MAAA,IAAG,KAAM,CAAA,CAAA,CAAN,GAAW,EAAX,IAAiB,KAAM,CAAA,CAAA,CAAN,KAAY,IAAhC;AACI,eAAO,EAAP,CADJ;OAhBA;AAkBA,MAAA,IAAG,KAAM,CAAA,CAAA,CAAN,GAAW,EAAX,IAAiB,KAAM,CAAA,CAAA,CAAN,KAAY,IAAhC;AACI,cAAA,CADJ;OAlBA;AAAA,MAuBA,IAAA,GAAW,IAAA,IAAA,CAAK,KAAM,CAAA,CAAA,CAAX,EAAe,KAAM,CAAA,CAAA,CAAN,GAAW,CAA1B,EAA6B,KAAM,CAAA,CAAA,CAAnC,CAvBX,CAAA;AAAA,MAwBA,GAAA,GAAU,IAAA,IAAA,CAAA,CAxBV,CAAA;AAAA,MAyBA,GAAA,GAAU,IAAA,IAAA,CAAK,GAAG,CAAC,WAAJ,CAAA,CAAL,EAAwB,GAAG,CAAC,QAAJ,CAAA,CAAxB,EAAwC,GAAG,CAAC,OAAJ,CAAA,CAAxC,CAzBV,CAAA;AAAA,MA2BA,SAAA,GAAgB,IAAA,IAAA,CAAK,GAAG,CAAC,WAAJ,CAAA,CAAL,EAAwB,IAAI,CAAC,QAAL,CAAA,CAAxB,EAAyC,IAAI,CAAC,OAAL,CAAA,CAAzC,CA3BhB,CAAA;AA4BA,MAAA,IAAG,GAAA,GAAM,SAAT;AACI,QAAA,SAAA,GAAgB,IAAA,IAAA,CAAK,GAAG,CAAC,WAAJ,CAAA,CAAA,GAAoB,CAAzB,EAA4B,IAAI,CAAC,QAAL,CAAA,CAA5B,EAA6C,IAAI,CAAC,OAAL,CAAA,CAA7C,CAAhB,CADJ;OA5BA;AAAA,MA+BA,IAAA,GAAO,SAAA,GAAY,GA/BnB,CAAA;AAAA,MAgCA,OAAA,GAAU,IAAA,GAAO,QAhCjB,CAAA;AAiCA,aAAO,OAAP,CArCK;IAAA,CAAP,CADiC;EAAA,CAAnC,CAnFA,CAAA;;AAAA,EA4HA,WAAA,GAAc,SAAC,IAAD,EAAO,OAAP,EAAgB,SAAhB,GAAA;;MAAgB,YAAU;KACpC;AAAA,IAAA,CAAA,CAAE,iBAAF,CAAoB,CAAC,QAArB,CAA8B,QAAA,GAAS,IAAvC,CAA4C,CAAC,KAA7C,CAAA,CAAoD,CAAC,MAArD,CAA4D,OAA5D,CAAA,CAAA;AAAA,IACA,CAAA,CAAE,UAAF,CAAa,CAAC,WAAd,CAA0B,QAA1B,CAAmC,CAAC,IAApC,CAAyC,MAAzC,CADA,CAAA;AAEA,IAAA,IAAG,SAAH;aACI,UAAA,CAAW,SAAA,GAAA;eACP,CAAA,CAAE,UAAF,CAAa,CAAC,IAAd,CAAmB,MAAnB,EAA2B,SAAA,GAAA;iBACvB,CAAA,CAAE,iBAAF,CAAoB,CAAC,WAArB,CAAiC,QAAA,GAAS,IAA1C,EADuB;QAAA,CAA3B,EADO;MAAA,CAAX,EAGE,IAHF,EADJ;KAHU;EAAA,CA5Hd,CAAA;;AAAA,EAoIA,kBAAA,GAAqB,SAAC,OAAD,GAAA;WACjB,WAAA,CAAY,SAAZ,EAAuB,OAAvB,EADiB;EAAA,CApIrB,CAAA;;AAAA,EAsIA,gBAAA,GAAmB,SAAC,OAAD,GAAA;WACf,WAAA,CAAY,QAAZ,EAAsB,OAAtB,EADe;EAAA,CAtInB,CAAA;;AAAA,EAyIA,YAAA,GAAe,SAAC,IAAD,EAAO,MAAP,GAAA;AACb,IAAA,IAAG,MAAA,KAAU,GAAb;aACE,gBAAA,CAAiB,IAAI,CAAC,OAAtB,EADF;KAAA,MAAA;aAGE,QAAQ,CAAC,IAAT,GAAgB,IAHlB;KADa;EAAA,CAzIf,CAAA;;AAAA,EAgJA,eAAe,CAAC,UAAhB,CAA2B,sBAA3B,EAAmD,SAAC,MAAD,EAAS,KAAT,EAAgB,SAAhB,EAA2B,YAA3B,EAAyC,MAAzC,EAAiD,IAAjD,GAAA;AAElD,IAAA,MAAM,CAAC,UAAP,GAAoB,SAAA,GAAA;aACnB,KAAK,CAAC,GAAN,CAAU,sBAAV,CACA,CAAC,OADD,CACS,SAAC,IAAD,GAAA;eACR,MAAM,CAAC,QAAP,GAAkB,KADV;MAAA,CADT,CAGA,CAAC,KAHD,CAGO,SAAC,IAAD,GAAA;eACN,IAAI,CAAC,IAAL,CAAU,IAAV,EADM;MAAA,CAHP,EADmB;IAAA,CAApB,CAAA;WAOA,MAAM,CAAC,UAAP,CAAA,EATkD;EAAA,CAAnD,CAhJA,CAAA;;AAAA,EA4JA,eAAe,CAAC,UAAhB,CAA2B,qBAA3B,EAAkD,SAAC,MAAD,EAAS,KAAT,EAAgB,SAAhB,EAA2B,YAA3B,EAAyC,MAAzC,EAAiD,IAAjD,GAAA;AAEjD,IAAA,MAAM,CAAC,OAAP,GAAiB,CAAjB,CAAA;AAAA,IACA,MAAM,CAAC,WAAP,GAAqB,EADrB,CAAA;AAAA,IAEA,MAAM,CAAC,UAAP,GAAoB,CAFpB,CAAA;AAAA,IAGA,MAAM,CAAC,OAAP,GAAiB;AAAA,MAChB,IAAA,EAAM,CADU;KAHjB,CAAA;AAAA,IAOA,MAAM,CAAC,UAAP,GAAoB,SAAA,GAAA;aACnB,KAAK,CAAC,GAAN,CAAU,eAAV,EACC;AAAA,QAAA,MAAA,EAAQ,MAAM,CAAC,OAAf;OADD,CAEA,CAAC,OAFD,CAES,SAAC,IAAD,GAAA;AACR,QAAA,MAAM,CAAC,QAAP,GAAkB,IAAI,CAAC,IAAvB,CAAA;AAAA,QACA,MAAM,CAAC,OAAO,CAAC,IAAf,GAAsB,IAAI,CAAC,YAD3B,CAAA;AAAA,QAEA,MAAM,CAAC,WAAP,GAAqB,IAAI,CAAC,QAF1B,CAAA;eAGA,MAAM,CAAC,UAAP,GAAoB,IAAI,CAAC,MAJjB;MAAA,CAFT,CAOA,CAAC,KAPD,CAOO,SAAC,IAAD,GAAA;eACN,IAAI,CAAC,IAAL,CAAU,IAAV,EADM;MAAA,CAPP,EADmB;IAAA,CAPpB,CAAA;AAAA,IAkBA,MAAM,CAAC,UAAP,CAAA,CAlBA,CAAA;AAAA,IAoBA,MAAM,CAAC,SAAP,GAAmB,SAAA,GAAA;aAClB,MAAM,CAAC,UAAP,CAAkB,IAAlB,EADkB;IAAA,CApBnB,CAAA;AAAA,IAsBA,MAAM,CAAC,UAAP,GAAoB,SAAC,MAAD,GAAA;AACnB,UAAA,QAAA;AAAA,MAAA,QAAA,GAAW,MAAM,CAAC,IAAP,CACV;AAAA,QAAA,WAAA,EAAa,kCAAb;AAAA,QACA,UAAA,EAAY,sBADZ;AAAA,QAEA,OAAA,EACC;AAAA,UAAA,MAAA,EAAQ,SAAA,GAAA;AACP,YAAA,IAAG,MAAH;AACC,qBAAO,MAAP,CADD;aAAA,MAAA;qBAGC;AAAA,gBAAA,IAAA,EAAM,EAAN;AAAA,gBACA,IAAA,EAAM,EADN;gBAHD;aADO;UAAA,CAAR;SAHD;OADU,CAAX,CAAA;aAUA,QAAQ,CAAC,MAAM,CAAC,IAAhB,CAAqB,SAAC,UAAD,GAAA;AACpB,QAAA,kBAAA,CAAmB,QAAnB,CAAA,CAAA;eACA,MAAM,CAAC,UAAP,CAAA,EAFoB;MAAA,CAArB,EAGE,SAAA,GAAA;eACD,IAAI,CAAC,IAAL,CAAU,oBAAV,EADC;MAAA,CAHF,EAXmB;IAAA,CAtBpB,CAAA;AAAA,IAuCA,MAAM,CAAC,YAAP,GAAsB,SAAC,MAAD,GAAA;AACrB,MAAA,IAAG,OAAA,CAAQ,MAAM,CAAC,IAAP,GAAc,kBAAtB,CAAH;eACC,KAAA,CACC;AAAA,UAAA,MAAA,EAAQ,QAAR;AAAA,UACA,GAAA,EAAK,gBAAA,GAAmB,MAAM,CAAC,EAD/B;SADD,CAGA,CAAC,OAHD,CAGS,SAAC,IAAD,GAAA;iBACR,MAAM,CAAC,UAAP,CAAA,EADQ;QAAA,CAHT,CAKA,CAAC,KALD,CAKO,YALP,EADD;OADqB;IAAA,CAvCtB,CAAA;AAAA,IAgDA,MAAM,CAAC,QAAP,GAAkB,SAAC,MAAD,GAAA;aACjB,MAAM,CAAC,SAAP,CAAiB,MAAjB,EAAyB,IAAzB,EADiB;IAAA,CAhDlB,CAAA;AAAA,IAkDA,MAAM,CAAC,SAAP,GAAmB,SAAC,MAAD,EAAS,KAAT,GAAA;AAClB,UAAA,QAAA;AAAA,MAAA,QAAA,GAAW,MAAM,CAAC,IAAP,CACV;AAAA,QAAA,WAAA,EAAa,gCAAb;AAAA,QACA,UAAA,EAAY,oBADZ;AAAA,QAEA,OAAA,EACC;AAAA,UAAA,IAAA,EAAM,SAAA,GAAA;AACL,YAAA,IAAG,KAAH;AACC,qBAAO,KAAP,CADD;aAAA,MAAA;qBAGC;AAAA,gBAAA,IAAA,EAAM,EAAN;AAAA,gBACA,IAAA,EAAM,EADN;AAAA,gBAEA,QAAA,EAAU,EAFV;AAAA,gBAGA,SAAA,EAAW,MAAM,CAAC,EAHlB;gBAHD;aADK;UAAA,CAAN;SAHD;OADU,CAAX,CAAA;aAYA,QAAQ,CAAC,MAAM,CAAC,IAAhB,CAAqB,SAAC,UAAD,GAAA;AACpB,QAAA,kBAAA,CAAmB,QAAnB,CAAA,CAAA;eACA,MAAM,CAAC,UAAP,CAAA,EAFoB;MAAA,CAArB,EAGE,SAAA,GAAA;eACD,IAAI,CAAC,IAAL,CAAU,mBAAV,EADC;MAAA,CAHF,EAbkB;IAAA,CAlDnB,CAAA;WAqEA,MAAM,CAAC,WAAP,GAAqB,SAAC,KAAD,GAAA;AACpB,MAAA,IAAG,OAAA,CAAQ,KAAK,CAAC,IAAN,GAAa,kBAArB,CAAH;eACC,KAAA,CACC;AAAA,UAAA,MAAA,EAAQ,QAAR;AAAA,UACA,GAAA,EAAK,gBAAA,GAAmB,KAAK,CAAC,SAAzB,GAAqC,QAArC,GAAgD,KAAK,CAAC,EAD3D;SADD,CAGA,CAAC,OAHD,CAGS,SAAC,IAAD,GAAA;iBACR,MAAM,CAAC,UAAP,CAAA,EADQ;QAAA,CAHT,CAKA,CAAC,KALD,CAKO,YALP,EADD;OADoB;IAAA,EAvE4B;EAAA,CAAlD,CA5JA,CAAA;;AAAA,EA6OA,eAAe,CAAC,UAAhB,CAA2B,sBAA3B,EAAmD,SAAC,MAAD,EAAS,cAAT,EAAyB,KAAzB,EAAgC,MAAhC,GAAA;AAC/C,IAAA,MAAM,CAAC,MAAP,GAAgB,CAAC,CAAC,MAAF,CAAS,EAAT,EAAa,MAAb,CAAhB,CAAA;AAAA,IAEA,MAAM,CAAC,IAAP,GAAc,SAAA,GAAA;AACV,UAAA,gBAAA;AAAA,MAAA,MAAA,GAAS,MAAT,CAAA;AAAA,MACA,QAAA,GAAW,eADX,CAAA;AAEA,MAAA,IAAG,MAAM,CAAC,EAAV;AACI,QAAA,MAAA,GAAS,KAAT,CAAA;AAAA,QACA,QAAA,IAAY,GAAA,GAAM,MAAM,CAAC,EADzB,CADJ;OAFA;aAMA,KAAA,CACI;AAAA,QAAA,MAAA,EAAQ,MAAR;AAAA,QACA,GAAA,EAAK,QADL;AAAA,QAEA,IAAA,EAAM,MAAM,CAAC,MAFb;OADJ,CAIA,CAAC,OAJD,CAIS,SAAC,IAAD,GAAA;eACL,cAAc,CAAC,KAAf,CAAqB,IAArB,EADK;MAAA,CAJT,CAMA,CAAC,KAND,CAMO,YANP,EAPU;IAAA,CAFd,CAAA;WAiBA,MAAM,CAAC,MAAP,GAAgB,SAAA,GAAA;aACZ,cAAc,CAAC,OAAf,CAAuB,QAAvB,EADY;IAAA,EAlB+B;EAAA,CAAnD,CA7OA,CAAA;;AAAA,EAmQA,eAAe,CAAC,UAAhB,CAA2B,oBAA3B,EAAiD,SAAC,MAAD,EAAS,cAAT,EAAyB,KAAzB,EAAgC,OAAhC,EAAyC,IAAzC,GAAA;AAC7C,IAAA,MAAM,CAAC,IAAP,GAAc,CAAC,CAAC,MAAF,CAAS,EAAT,EAAa,IAAb,CAAd,CAAA;AAAA,IAEA,MAAM,CAAC,KAAP,GAAe,SAAA,GAAA;aACX,MAAM,CAAC,IAAI,CAAC,QAAZ,GAA2B,IAAA,IAAA,CAAA,EADhB;IAAA,CAFf,CAAA;AAAA,IAIA,MAAM,CAAC,KAAP,GAAe,SAAA,GAAA;aACX,MAAM,CAAC,IAAI,CAAC,QAAZ,GAAuB,KADZ;IAAA,CAJf,CAAA;AAAA,IAOA,MAAM,CAAC,IAAP,GAAc,SAAC,MAAD,GAAA;AACV,MAAA,MAAM,CAAC,cAAP,CAAA,CAAA,CAAA;AAAA,MACA,MAAM,CAAC,eAAP,CAAA,CADA,CAAA;aAEA,MAAM,CAAC,MAAP,GAAgB,KAHN;IAAA,CAPd,CAAA;AAAA,IAYA,MAAM,CAAC,WAAP,GACI;AAAA,MAAA,UAAA,EAAY,IAAZ;AAAA,MACA,WAAA,EAAa,CADb;KAbJ,CAAA;AAAA,IAgBA,MAAM,CAAC,MAAP,GAAgB,YAhBhB,CAAA;AAAA,IAkBA,MAAM,CAAC,IAAP,GAAc,SAAA,GAAA;AACV,UAAA,gBAAA;AAAA,MAAA,MAAM,CAAC,IAAI,CAAC,QAAZ,GAAuB,OAAA,CAAQ,MAAR,CAAA,CAAgB,MAAM,CAAC,IAAI,CAAC,QAA5B,EAAsC,MAAM,CAAC,MAA7C,CAAvB,CAAA;AAAA,MAEA,MAAA,GAAS,MAFT,CAAA;AAAA,MAGA,QAAA,GAAW,gBAAA,GAAmB,IAAI,CAAC,SAAxB,GAAoC,OAH/C,CAAA;AAKA,MAAA,IAAG,IAAI,CAAC,EAAR;AACI,QAAA,MAAA,GAAS,KAAT,CAAA;AAAA,QACA,QAAA,IAAY,GAAA,GAAM,IAAI,CAAC,EADvB,CADJ;OALA;aASA,KAAA,CACI;AAAA,QAAA,MAAA,EAAQ,MAAR;AAAA,QACA,GAAA,EAAK,QADL;AAAA,QAEA,IAAA,EAAM,MAAM,CAAC,IAFb;OADJ,CAIA,CAAC,OAJD,CAIS,SAAC,IAAD,GAAA;eACL,cAAc,CAAC,KAAf,CAAqB,IAArB,EADK;MAAA,CAJT,CAMA,CAAC,KAND,CAMO,YANP,EAVU;IAAA,CAlBd,CAAA;WAoCA,MAAM,CAAC,MAAP,GAAgB,SAAA,GAAA;aACZ,cAAc,CAAC,OAAf,CAAuB,QAAvB,EADY;IAAA,EArC6B;EAAA,CAAjD,CAnQA,CAAA;AAAA","file":"app.js","sourceRoot":"/source/","sourcesContent":["\nmainApp = angular.module 'mainApp', [\n  'ngRoute'\n#  'ngSanitize'\n#  'mainFactories'\n  'mainControllers'\n  'ui.bootstrap'\n#  'angularFileUpload'\n#  'hc.marked'\n#  'ui.utils'\n]\n\nmainApp.config ['$routeProvider', ($routeProvider) ->\n    $routeProvider\n    .when '/index',\n      templateUrl: '/partials/anniv/index.html'\n      controller: 'AnnivIndexController'\n    .when '/list',\n      templateUrl: '/partials/anniv/list.html'\n      controller: 'AnnivListController'\n    # entity\n    #.when '/entity',\n    #  templateUrl: '/partials/entity/index.html'\n    #  controller: 'EntityIndexController'\n    #.when '/entity/:id',\n    #  templateUrl: '/partials/entity/detail.html'\n    #  controller: 'EntityDetailController'\n\n    .otherwise\n      redirectTo: '/index'\n]\n\n\nmainControllers = angular.module 'mainControllers', []\n\n\nmainControllers.filter 'JDate', ->\n  return (input, only_wayear) ->\n\n    if not input\n        return ''\n\n    if input.length isnt 10\n        return ''\n\n    dates = input.split(\"-\");\n    if dates.length isnt 3\n        return ''\n\n    date = parseInt(dates.join(\"\"))\n    if not date\n        return ''\n\n    if dates[0] > 2099\n        return ''\n    if dates[1] > 12 || dates[1] is \"00\"\n        return ''\n    if dates[2] > 31 || dates[2] is \"00\"\n        return\n\n    if date >= 19890108\n        gengo = '平成'\n        wayear = dates[0] - 1988\n    else if date >= 19261225\n        gengo = '昭和'\n        wayear = dates[0] - 1925\n    else if date >= 19120730\n        gengo = '大正'\n        wayear = dates[0] - 1911\n    else if date >= 18680125\n        gengo = '明治'\n        wayear = dates[0] - 1867\n    else\n        return ''\n\n    if wayear is 1\n        wayear = '元'\n\n    if only_wayear is 1\n        return gengo + wayear + '年'\n\n    return gengo + wayear + '年' + dates[1] + '月' + dates[2] + '日'\n\n\nmainControllers.filter 'DiffDate', ->\n  return (input) ->\n\n    # 前置き\n\n    if not input\n        return ''\n\n    if input.length isnt 10\n        return ''\n\n    dates = input.split(\"-\");\n    if dates.length isnt 3\n        return ''\n\n    date = parseInt(dates.join(\"\"))\n    if not date\n        return ''\n\n    if dates[0] > 2099\n        return ''\n    if dates[1] > 12 || dates[1] is \"00\"\n        return ''\n    if dates[2] > 31 || dates[2] is \"00\"\n        return\n\n    # 本処理\n\n    date = new Date(dates[0], dates[1] - 1, dates[2])\n    now = new Date()\n    now = new Date(now.getFullYear(), now.getMonth(), now.getDate())\n\n    diff_date = new Date(now.getFullYear(), date.getMonth(), date.getDate())\n    if now > diff_date\n        diff_date = new Date(now.getFullYear() + 1, date.getMonth(), date.getDate())\n\n    diff = diff_date - now;\n    diffDay = diff / 86400000\n    return diffDay\n\n\nshowMessage = (type, message, autoclose=true) ->\n    $('#message .alert').addClass('alert-'+type).empty().append(message)\n    $('#message').removeClass('hidden').show 'fade'\n    if autoclose\n        setTimeout ->\n            $('#message').hide 'fade', ->\n                $('#message .alert').removeClass('alert-'+type)\n        , 2000\nshowSuccessMessage = (message) ->\n    showMessage 'success', message\nshowErrorMessage = (message) ->\n    showMessage 'danger', message\n\nnetworkError = (json, status) ->\n  if status != 401\n    showErrorMessage json.message\n  else\n    location.href = '/'\n\n\nmainControllers.controller 'AnnivIndexController', ($scope, $http, $location, $routeParams, $modal, $log) ->\n\n\t$scope.loadDetail = ->\n\t\t$http.get \"/api/entities/pickup\"\n\t\t.success (data) ->\n\t\t\t$scope.entities = data\n\t\t.error (data) ->\n\t\t\t$log.info(data)\n\n\t$scope.loadDetail()\n\n\nmainControllers.controller 'AnnivListController', ($scope, $http, $location, $routeParams, $modal, $log) ->\n\n\t$scope.maxSize = 5\n\t$scope.itemPerPage = 10\n\t$scope.totalItems = 1\n\t$scope.filters = {\n\t\tpage: 1\n\t}\n\n\t$scope.loadDetail = ->\n\t\t$http.get \"/api/entities\",\n\t\t\tparams: $scope.filters\n\t\t.success (data) ->\n\t\t\t$scope.entities = data.data\n\t\t\t$scope.filters.page = data.current_page\n\t\t\t$scope.itemPerPage = data.per_page\n\t\t\t$scope.totalItems = data.total\n\t\t.error (data) ->\n\t\t\t$log.info(data)\n\n\t$scope.loadDetail()\n\n\t$scope.addEntity = ->\n\t\t$scope.editEntity null\n\t$scope.editEntity = (entity) ->\n\t\tinstance = $modal.open\n\t\t\ttemplateUrl: '/partials/entity/modal/edit.html'\n\t\t\tcontroller: 'EntityEditController'\n\t\t\tresolve:\n\t\t\t\tentity: ->\n\t\t\t\t\tif entity\n\t\t\t\t\t\treturn entity\n\t\t\t\t\telse\n\t\t\t\t\t\tname: ''\n\t\t\t\t\t\tdesc: ''\n\t\tinstance.result.then (selectItem) ->\n\t\t\tshowSuccessMessage '保存しました'\n\t\t\t$scope.loadDetail()\n\t\t, ->\n\t\t\t$log.info 'dismiss editEntity'\n\n\t$scope.deleteEntity = (entity) ->\n\t\tif confirm(entity.name + \" を削除します。よろしいですか？\")\n\t\t\t$http\n\t\t\t\tmethod: 'delete'\n\t\t\t\turl: \"/api/entities/\" + entity.id\n\t\t\t.success (json) ->\n\t\t\t\t$scope.loadDetail()\n\t\t\t.error networkError\n\n\t$scope.addAnniv = (entity) ->\n\t\t$scope.editAnniv(entity, null)\n\t$scope.editAnniv = (entity, anniv) ->\n\t\tinstance = $modal.open\n\t\t\ttemplateUrl: '/partials/days/modal/edit.html'\n\t\t\tcontroller: 'DaysEditController'\n\t\t\tresolve:\n\t\t\t\tdays: ->\n\t\t\t\t\tif anniv\n\t\t\t\t\t\treturn anniv\n\t\t\t\t\telse\n\t\t\t\t\t\tname: ''\n\t\t\t\t\t\tdesc: ''\n\t\t\t\t\t\tanniv_at: ''\n\t\t\t\t\t\tentity_id: entity.id\n\t\tinstance.result.then (selectItem) ->\n\t\t\tshowSuccessMessage '保存しました'\n\t\t\t$scope.loadDetail()\n\t\t, ->\n\t\t\t$log.info 'dismiss editAnniv'\n\n\t$scope.deleteAnniv = (anniv) ->\n\t\tif confirm(anniv.name + \" を削除します。よろしいですか？\")\n\t\t\t$http\n\t\t\t\tmethod: 'delete'\n\t\t\t\turl: '/api/entities/' + anniv.entity_id + '/days/' + anniv.id\n\t\t\t.success (json) ->\n\t\t\t\t$scope.loadDetail()\n\t\t\t.error networkError\n\n\nmainControllers.controller 'EntityEditController', ($scope, $modalInstance, $http, entity) ->\n    $scope.entity = $.extend {}, entity\n\n    $scope.save = ->\n        method = 'post'\n        endPoint = \"/api/entities\"\n        if entity.id\n            method = 'put'\n            endPoint += \"/\" + entity.id\n\n        $http\n            method: method\n            url: endPoint\n            data: $scope.entity\n        .success (json) ->\n            $modalInstance.close(json)\n        .error networkError\n\n    $scope.cancel = ->\n        $modalInstance.dismiss('cancel')\n\n\nmainControllers.controller 'DaysEditController', ($scope, $modalInstance, $http, $filter, days) ->\n    $scope.days = $.extend {}, days\n\n    $scope.today = ->\n        $scope.days.anniv_at = new Date()\n    $scope.clear = ->\n        $scope.days.anniv_at = null\n\n    $scope.open = ($event) ->\n        $event.preventDefault()\n        $event.stopPropagation()\n        $scope.opened = true\n\n    $scope.dateOptions =\n        formatYear: 'yy'\n        startingDay: 1\n\n    $scope.format = 'yyyy-MM-dd'\n\n    $scope.save = ->\n        $scope.days.anniv_at = $filter('date')($scope.days.anniv_at, $scope.format)\n\n        method = 'post'\n        endPoint = \"/api/entities/\" + days.entity_id + \"/days\"\n\n        if days.id\n            method = 'put'\n            endPoint += \"/\" + days.id\n\n        $http\n            method: method\n            url: endPoint\n            data: $scope.days\n        .success (json) ->\n            $modalInstance.close(json)\n        .error networkError\n\n    $scope.cancel = ->\n        $modalInstance.dismiss('cancel')\n"]}